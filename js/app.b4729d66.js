(function(e){function t(t){for(var r,s,i=t[0],c=t[1],l=t[2],u=0,m=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&m.push(o[s][0]),o[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(m.length)m.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var c=n[i];0!==o[c]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={app:0},a=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},2:function(e,t){},2648:function(e,t,n){},3:function(e,t){},"3ecb":function(e,t,n){"use strict";var r=n("51e8"),o=n.n(r);o.a},4:function(e,t){},5:function(e,t){},"51e8":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-app-bar",{attrs:{app:""}},[r("a",{attrs:{href:"http://console.dashevo.io/"}},[r("v-img",{staticClass:"mx-2",attrs:{src:n("f3b2"),"max-height":"20","max-width":"68",contain:""}})],1),r("v-toolbar-title",{staticClass:"hidden-xs-only"},[e._v("Platform Console")]),r("v-spacer"),r("v-toolbar-items",[r("v-btn",{staticClass:"ml-1",attrs:{text:"",to:{name:"wallet"}}},[e._v("Wallet")]),r("v-btn",{staticClass:"ml-1",attrs:{text:"",to:{name:"platform"}}},[e._v("Platform")])],1),r("v-progress-linear",{attrs:{active:e.isSyncing,indeterminate:"",absolute:"",bottom:"",color:"primary"}})],1),r("v-content",[r("v-container",{attrs:{fluid:""}},[r("router-view"),r("v-snackbar",{attrs:{top:"top",color:"error"},model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(" "+e._s(e.snackbar.text)+" "),r("v-btn",{attrs:{dark:"",text:""},on:{click:function(t){e.snackbar.show=!1}}},[e._v("Close")])],1)],1)],1),r("v-footer",{attrs:{padless:""}},[r("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[e._v(" "+e._s((new Date).getFullYear())+" â€” "),r("strong",[r("a",{attrs:{href:"https://dashplatform.readme.io/docs/tutorial-connecting-to-evonet",target:"_blank"}},[e._v("dash platform docs")])])])],1)],1)},a=[],s=n("5530"),i=n("2f62"),c={data:function(){return{drawer:!1,welcome:!0,snackbar:{show:!1,text:""}}},computed:Object(s["a"])(Object(s["a"])({},Object(i["c"])(["isSyncing","userIdentitiesWithNames","applicationIdentitiesWithContracts","hasWallet"])),{},{hasUserIdentities:function(){return Boolean(this.userIdentitiesWithNames.length)},hasApplicationIdentities:function(){return Boolean(this.applicationIdentitiesWithContracts.length)}}),created:function(){var e=this;this.$store.dispatch("initWallet"),this.$store.watch((function(e){return e.snackError.text}),(function(){e.snackbar=e.$store.state.snackError}))}},l=c,d=n("2877"),u=n("6544"),m=n.n(u),p=n("7496"),v=n("40dc"),h=n("8336"),f=n("62ad"),b=n("a523"),g=n("a75ba"),y=n("553a"),w=n("adda"),x=n("8e36"),_=n("2db4"),k=n("2fa4"),C=n("2a7f"),D=Object(d["a"])(l,o,a,!1,null,null,null),I=D.exports;m()(D,{VApp:p["a"],VAppBar:v["a"],VBtn:h["a"],VCol:f["a"],VContainer:b["a"],VContent:g["a"],VFooter:y["a"],VImg:w["a"],VProgressLinear:x["a"],VSnackbar:_["a"],VSpacer:k["a"],VToolbarItems:C["a"],VToolbarTitle:C["b"]});var S=n("8c4f"),O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-container",{staticStyle:{"max-width":"900px"},attrs:{fluid:""}},[n("v-card",{staticClass:"mx-auto"},[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("Wallet Status")])]),n("v-card-text",{staticClass:"text-center"},[e.hasWallet?e._e():n("v-container",[n("v-btn",{staticClass:"ma-2",attrs:{"x-large":"",color:"primary"},on:{click:function(t){return t.stopPropagation(),e.createMnemonic(t)}}},[e._v("Create Wallet")]),n("v-btn",{staticClass:"ma-2",attrs:{"x-large":""},on:{click:e.showRestoreMnemonic}},[e._v("Restore Wallet")])],1),e.hasWallet?n("v-container",{attrs:{fluid:"",justify:"center"}},[n("v-btn",{staticClass:"ma-2",attrs:{"x-large":"",color:"primary"},on:{click:e.backupMnemonic}},[e._v("Backup Wallet")]),n("v-btn",{staticClass:"ma-2",attrs:{"x-large":""},on:{click:e.forgetState}},[e._v("Forget Wallet")])],1):e._e()],1)],1)],1),n("v-container",{staticStyle:{"max-width":"900px"},attrs:{fluid:""}},[e.hasWallet?n("v-card",{staticClass:"mx-auto mt-10"},[n("v-container",[n("v-row",[n("v-col",[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{staticClass:"headline mb-1"},[e._v(" "+e._s(e.balanceInDash)+" Dash "),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({staticStyle:{"z-index":"4"},attrs:{fab:"",absolute:"",small:"",right:"",loading:e.isRefreshingBalance},on:{click:e.refreshWallet}},r),[n("v-icon",{attrs:{color:"primary",dark:""}},[e._v("mdi-refresh")])],1)]}}],null,!1,1079581003)},[n("span",[e._v("Refresh Balance")])])],1),n("v-list-item-subtitle",[e._v(e._s(e.confirmedBalanceInDash)+" confirmed")]),n("v-list-item-subtitle",[e._v(e._s(e.unconfirmedBalanceInDash)+" unconfirmed")])],1)],1),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{staticClass:"headline mb-2"},[e._v("Receiving address "),n("v-tooltip",{attrs:{right:""},model:{value:e.addressCopied,callback:function(t){e.addressCopied=t},expression:"addressCopied"}},[[n("v-icon",{staticClass:"ml-1 mt-n1",on:{click:e.copyReceivingAddressToClipboard}},[e._v("mdi-clipboard-multiple-outline")])],n("span",[e._v("Copied")])],2)],1),n("v-list-item-subtitle",[n("pre",{staticClass:"text-wrap",staticStyle:{"font-size":"1.5em"},on:{click:e.copyReceivingAddressToClipboard}},[e._v(e._s(e.getWallet.unusedAddress)+"\n                  ")]),n("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({staticClass:"my-2",attrs:{small:""},on:{click:e.goToFaucet}},r),[e._v("Get Dash")])]}}],null,!1,2042070577)},[n("span",[e._v("Receive free Dash from the Faucet")])])],1)],1)],1)],1),n("v-col",{staticStyle:{"text-align":"center"}},[n("div",{staticStyle:{display:"inline-block"},on:{click:e.copyReceivingAddressToClipboard}},[n("qrcode",{staticStyle:{"margin-top":"-5px"},attrs:{value:e.getWallet.unusedAddress,options:{width:200}}})],1)])],1)],1),n("v-card-actions",[n("v-row",{staticClass:"px-2",attrs:{row:"","d-flex":"",nowrap:"",justify:"center"}},[n("v-text-field",{attrs:{error:!e.sendToAddressValid,label:"Send Dash to Address",disabled:!e.getWallet.balance,outlined:"",hint:"Enter a valid Dash Address"},model:{value:e.sendToAddress,callback:function(t){e.sendToAddress=t},expression:"sendToAddress"}})],1)],1)],1):e._e()],1),e.hasWallet?n("v-container",{staticStyle:{"max-width":"900px"},attrs:{fluid:""}},[n("v-expansion-panels",{attrs:{accordion:!0,multiple:!0,hover:"","max-width":"700px"}},[n("v-expansion-panel",{attrs:{"max-width":"700px"}},[n("v-expansion-panel-header",[e._v("Addresses")]),n("v-expansion-panel-content",[n("v-card",{attrs:{outlined:""}},[n("v-simple-table",{attrs:{dense:""}},[n("thead",[n("tr",[n("th",[e._v("Receiving Address")]),n("th",[e._v("Balance")]),n("th",[e._v("Used")])])]),n("tbody",e._l(e.getWallet.addresses,(function(t){return n("tr",{key:t.id,style:t.used?" background: rgba(255, 82, 82, 0.3);":" background: rgba(76, 175, 80, 0.3);"},[n("td",[e._v(e._s(t.address))]),n("td",[e._v(" "+e._s(e.fromDuffsToDash(t.unconfirmedBalanceSat+t.balanceSat))+" ")]),n("td",[e._v(e._s(t.used))])])})),0)])],1)],1)],1),n("v-expansion-panel",[n("v-expansion-panel-header",[e._v("Coins")]),n("v-expansion-panel-content",[n("v-card",{attrs:{outlined:""}},[n("v-simple-table",{attrs:{dense:""}},[n("thead",[n("tr",[n("th",[e._v("Address")]),n("th",[e._v("Balance")]),n("th",[e._v("Transaction Id")])])]),n("tbody",e._l(e.getWallet.utxos,(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.address))]),n("td",[e._v(e._s(e.fromDuffsToDash(t.satoshis)))]),n("td",[n("a",{attrs:{href:"http://devnet-evonet-28309188.us-west-2.elb.amazonaws.com:3001/insight/tx/"+t.txId,target:"_bank"}},[e._v(e._s(t.txId))])])])})),0)])],1)],1)],1)],1)],1):e._e(),n("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.mnemonicDialog,callback:function(t){e.mnemonicDialog=t},expression:"mnemonicDialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v(e._s(e.mnemonicDialogTitle))])]),n("v-card-text",[n("v-alert",{attrs:{dense:"",outlined:"",color:"blue"}},[n("div",[n("strong",[e._v("Important:")]),e._v(" Backup your recovery phrase or loose your coins!")])]),n("v-textarea",{ref:"mnemonic",attrs:{label:e.mnemonicDialogLabel,"auto-grow":"",outlined:"",loading:e.mnemonicDialogLoading,readonly:!e.mnemonicDialogIsRestore,rows:"3","row-height":"25",clearable:e.mnemonicDialogIsRestore,"clear-icon":"mdi-backspace"},model:{value:e.mnemonicText,callback:function(t){e.mnemonicText=t},expression:"mnemonicText"}})],1),n("v-card-actions",[n("v-btn",{attrs:{"x-large":""},on:{click:function(t){e.mnemonicDialog=!1}}},[e._v("Close")]),n("v-spacer"),e.mnemonicDialogIsRestore?n("v-btn",{attrs:{"x-large":"",color:"primary"},on:{click:e.restoreMnemonic}},[e._v("Restore Wallet")]):e._e(),e.mnemonicDialogIsRestore?e._e():n("v-btn",{attrs:{"x-large":"",color:"primary"},on:{click:e.copyMnemonicToClipboard}},[e._v("Copy Passphrase")])],1)],1)],1),n("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.sendDashDialog,callback:function(t){e.sendDashDialog=t},expression:"sendDashDialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("Send Dash")])]),n("v-card-text",[n("v-container",[n("v-row",[n("v-col",[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{staticClass:"headline mb-2"},[e._v("Send To")]),n("v-list-item-subtitle",[n("pre",{staticClass:"text-wrap",staticStyle:{"font-size":"1.2em"}},[e._v(e._s(e.getWallet.unusedAddress)+"\n                  ")])])],1)],1),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{staticClass:"headline mb-2"},[e._v("Amount")]),n("v-list-item-subtitle",[n("v-text-field",{ref:"sendtoamount",staticClass:"mt-1",attrs:{error:!e.sendToAmountValid,outlined:"",required:"",autofocus:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.submitSendDash(t))}},model:{value:e.sendToAmount,callback:function(t){e.sendToAmount=t},expression:"sendToAmount"}})],1)],1)],1)],1)],1)],1)],1),n("v-card-actions",[n("v-btn",{attrs:{"x-large":"",outlined:"",color:"secondary",text:""},on:{click:function(t){e.sendToAddress=""}}},[e._v("Cancel")]),n("v-spacer"),n("v-btn",{attrs:{"x-large":"",disabled:!e.sendToAmountValid,color:"primary"},on:{click:e.submitSendDash}},[e._v("Confirm")])],1)],1)],1)],1)},j=[],V=(n("b0c0"),n("d3b7"),n("96cf"),n("1da1")),T=n("b2e5"),E=n.n(T),A=n("87c4"),R=n.n(A);r["a"].component(E.a.name,E.a);var B=R.a.Address,N=R.a.Unit,J={data:function(){return{addressCopied:!1,sendToAddress:"",sendToAmount:null,isRefreshingBalance:!1,dialog:!0,mnemonicDialog:!1,mnemonicDialogIsRestore:!1,mnemonicDialogTitle:"Create Mnemonic",mnemonicDialogLabel:"Generating Wallet ..",mnemonicDialogLoading:!0,mnemonicText:""}},computed:Object(s["a"])(Object(s["a"])({},Object(i["c"])(["hasWallet","getWallet","identityLists","isSyncing","isError"])),{},{sendDashDialog:function(){return!(!this.sendToAddressValid||""==this.sendToAddress)},balanceInDash:function(){var e=this.getWallet.balance;return N.fromSatoshis(e).toBTC()},confirmedBalanceInDash:function(){var e=this.getWallet.confirmedBalance;return N.fromSatoshis(e).toBTC()},unconfirmedBalanceInDash:function(){var e=this.getWallet.unconfirmedBalance;return N.fromSatoshis(e).toBTC()},sendToAddressValid:function(){var e=this.sendToAddress;return!e||B.isValid(e,"testnet")},sendToAmountValid:function(){var e=this.sendToAmount,t=this.getWallet,n=t.balance,r=N.fromBTC(e).toSatoshis();return r<=n&&r>0}}),watch:{sendDashDialog:function(){var e=this;console.log("hello"),setTimeout((function(){return e.$refs.sendtoamount.focus()}),150)}},methods:Object(s["a"])(Object(s["a"])({},Object(i["b"])(["searchDashNames","sendDash","setMnemonic","setSyncing"])),{},{refreshWallet:function(){var e=this;this.isRefreshingBalance=!0,this.$store.dispatch("refreshWallet"),setTimeout((function(){e.isRefreshingBalance=!1}),1e3)},goToFaucet:function(){window.open("http://devnet-evonet-28309188.us-west-2.elb.amazonaws.com/","_blank")},forgetState:function(){var e=this;return Object(V["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.mnemonicText="",e.$store.commit("resetState");case 2:case"end":return t.stop()}}),t)})))()},copyMnemonicToClipboard:function(){var e=this;return Object(V["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.$refs.mnemonic.$el.querySelector("textarea"),n.select(),document.execCommand("copy"),window.getSelection().removeAllRanges();case 4:case"end":return t.stop()}}),t)})))()},copyReceivingAddressToClipboard:function(){var e=this;return Object(V["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{n=document.createElement("textarea"),n.value=e.getWallet.unusedAddress,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),e.addressCopied=!0,setTimeout((function(){e.addressCopied=!1}),1e3)}catch(r){e.showSnackError(r)}case 1:case"end":return t.stop()}}),t)})))()},showCreateMnemonic:function(e){var t=this;return Object(V["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){t.mnemonicDialogLabel="Generating wallet ..",t.mnemonicDialogLoading=!0,t.mnemonicDialog=!0,t.mnemonicDialogTitle="Create Mnemonic",t.mnemonicDialogIsRestore=!1,setTimeout(n,e)})));case 1:case"end":return n.stop()}}),n)})))()},createMnemonic:function(){var e=this;return Object(V["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.commit("setSyncing",!0),e.showCreateMnemonic(200).then(Object(V["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.commit("resetState"),e.$store.commit("setMnemonic",null),t.next=4,e.$store.dispatch("initWallet");case 4:e.mnemonicText=e.getWallet.mnemonic,e.mnemonicDialogLabel="Wallet",e.mnemonicDialogLoading=!1;case 7:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})))()},backupMnemonic:function(){var e=this;return Object(V["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.mnemonicDialog=!0,e.mnemonicDialogTitle="Backup Mnemonic",e.mnemonicDialogLabel="Wallet",e.mnemonicDialogIsRestore=!1,e.mnemonicDialogLoading=!1,e.mnemonicText=e.getWallet.mnemonic;case 6:case"end":return t.stop()}}),t)})))()},showRestoreMnemonic:function(){var e=this;return Object(V["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.mnemonicDialog=!0,e.mnemonicDialogTitle="Restore Mnemonic",e.mnemonicDialogLabel="Enter your 12 word recovery phrase",e.mnemonicDialogLoading=!1,e.mnemonicDialogIsRestore=!0;case 5:case"end":return t.stop()}}),t)})))()},restoreMnemonic:function(){var e=this;return Object(V["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.mnemonicDialogLoading=!0,n=e.mnemonicText,console.log(n),e.$store.commit("resetState"),e.$store.commit("setMnemonic",n),t.next=7,e.$store.dispatch("initWallet");case 7:e.mnemonicText=e.getWallet.mnemonic,e.mnemonicDialogLoading=!1;case 9:case"end":return t.stop()}}),t)})))()},fromDuffsToDash:function(e){return N.fromSatoshis(e).toBTC()},submitSendDash:function(e){var t=this;e.stopImmediatePropagation(),e.preventDefault();var n=this.sendToAddress,r=this.sendDash,o=N.fromBTC(this.sendToAmount).toSatoshis();r({sendToAddress:n,satoshis:o}).then((function(){return t.sendToAddress=""}))}})},W=J,$=n("0798"),M=n("b0af"),q=n("99d9"),L=n("169a"),P=n("cd55"),F=n("49e2"),U=n("c865"),z=n("0393"),Q=n("132d"),G=n("da13"),Y=n("5d23"),H=n("0fd9"),K=n("1f4f"),X=n("8654"),Z=n("a844"),ee=n("3a2f"),te=Object(d["a"])(W,O,j,!1,null,null,null),ne=te.exports;m()(te,{VAlert:$["a"],VBtn:h["a"],VCard:M["a"],VCardActions:q["a"],VCardText:q["b"],VCardTitle:q["c"],VCol:f["a"],VContainer:b["a"],VDialog:L["a"],VExpansionPanel:P["a"],VExpansionPanelContent:F["a"],VExpansionPanelHeader:U["a"],VExpansionPanels:z["a"],VIcon:Q["a"],VListItem:G["a"],VListItemContent:Y["a"],VListItemSubtitle:Y["b"],VListItemTitle:Y["c"],VRow:H["a"],VSimpleTable:K["a"],VSpacer:k["a"],VTextField:X["a"],VTextarea:Z["a"],VTooltip:ee["a"]});var re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticStyle:{"max-width":"900px"}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{staticClass:"d-flex",attrs:{cols:"12"}},[n("v-combobox",{ref:"selectedid",staticClass:"mr-2",attrs:{items:e.comboIdentities,label:"Search Names, paste ContractId",outlined:"",autofocus:"",color:"blue"},on:{change:e.awesomeBar},model:{value:e.selectedIdentity,callback:function(t){e.selectedIdentity=t},expression:"selectedIdentity"}}),n("v-speed-dial",{staticClass:"mt-n4",staticStyle:{"z-index":"4",left:"0px"},attrs:{top:"",right:"",direction:"bottom"},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-btn",{attrs:{fab:""},on:{click:function(t){return e.clearIdentity()},blur:function(t){return e.closeFab()}},model:{value:e.fab,callback:function(t){e.fab=t},expression:"fab"}},[e.fab?n("v-icon",[e._v("mdi-close")]):n("v-icon",[e._v("mdi-plus")])],1)]},proxy:!0}]),model:{value:e.fab,callback:function(t){e.fab=t},expression:"fab"}},[n("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({attrs:{fab:""},on:{click:function(t){return e.createIdentity({name:"user",value:1})}}},r),[n("v-icon",{attrs:{color:"primary",dark:""}},[e._v("mdi-account")])],1)]}}])},[n("span",[e._v("New User")])]),n("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({attrs:{fab:""},on:{click:function(t){return e.createIdentity({name:"application",value:2})}}},r),[n("v-icon",{attrs:{color:"primary",dark:""}},[e._v("mdi-code-json")])],1)]}}])},[n("span",[e._v("New App")])])],1)],1)],1),"application"===e.selectedIdentity.type&&e.selectedIdentity.value&&!e.contracts[e.selectedIdentity.value]?n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",[n("v-card",{staticClass:"mx-auto"},[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("Register a Contract")])]),n("v-card-text",{staticClass:"text-center"},[e._v(" Here @andyfreer explains the new dev what to know and do about contracts ")]),n("v-card-actions",{staticClass:"text-center"},[n("Contract",{attrs:{identity:e.selectedIdentity}})],1)],1)],1)],1):e._e(),"application"===e.selectedIdentity.type&&e.selectedIdentity.value&&e.contracts[e.selectedIdentity.value]?n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",[n("Documents",{attrs:{"selected-contract-id":e.selectedIdentity.value}})],1)],1):e._e(),e.showMyUsers?n("v-row",[n("v-col",{staticClass:"d-flex"},[n("v-text-field",{attrs:{outlined:"",label:"Choose your new username"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.createUsername(t)}},model:{value:e.newUsername,callback:function(t){e.newUsername=t},expression:"newUsername"}}),n("v-btn",{attrs:{color:"primary","x-large":""},on:{click:function(t){return e.createUsername()}}},[e._v("Register")])],1)],1):e._e(),n("v-row",[n("v-col",e._l(e.names[e.selectedIdentity.value],(function(t,r){return n("v-chip",{key:r,staticClass:"ma-4",attrs:{pill:"",color:"blue","text-color":"white"}},[n("v-avatar",{attrs:{left:""}},[n("v-icon",[e._v("mdi-account-circle")])],1),e._v(" "+e._s(t)+" ")],1)})),1)],1),e.showUserSearchTable?n("v-row",[n("v-col",[n("v-card",{staticClass:"mx-auto"},[n("v-simple-table",{attrs:{loading:e.submittingSearch}},[n("thead",[n("tr",[n("th",[e._v("Name")]),n("th",[e._v("Identity Id")])])]),n("tbody",e._l(e.searchDashNameList,(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.label))]),n("td",[e._v(e._s(t.userId))])])})),0)])],1)],1)],1):e._e(),n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col")],1)],1)},oe=[],ae=(n("99af"),n("fb6a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-btn",{staticClass:"ma-2",attrs:{"x-large":"",color:"primary"},on:{click:function(){return e.openDialog(e.identity)}}},[e._v(e._s(e.identity.contract?"View Contract":"Register Contract"))]),n("v-dialog",{attrs:{fullscreen:"",persistent:"",transition:"dialog-bottom-transition"},model:{value:e.showJsonDialog,callback:function(t){e.showJsonDialog=t},expression:"showJsonDialog"}},[n("v-card",[n("v-form",{on:{submit:e.validateJsonAndSubmit}},[n("v-toolbar",{attrs:{color:"primary"}},[n("v-btn",{attrs:{icon:""},on:{click:function(t){e.showJsonDialog=!1}}},[n("v-icon",[e._v("mdi-close")])],1),n("v-toolbar-title",[e._v("Contract for "+e._s(e.selectedIdentity.value))]),n("v-spacer"),e.selectedIdentity.contract?e._e():n("v-toolbar-items",[n("v-btn",{attrs:{text:"",loading:e.submitting},on:{click:e.validateJsonAndSubmit}},[e._v("submit")])],1)],1),n("AceEditor",{ref:"aceEditor",attrs:{lang:"json",theme:"clouds_midnight",width:"100%",height:"94vh"},on:{init:e.aceEditorInit},model:{value:e.json,callback:function(t){e.json=t},expression:"json"}})],1)],1)],1)],1)}),se=[],ie=(n("25f0"),n("7c9e")),ce=n.n(ie),le=(n("818b"),n("c31c"),{components:{AceEditor:ce.a},props:["identity"],data:function(){return{showJsonDialog:!1,submitting:!1,selectedIdentity:{},json:""}},computed:Object(s["a"])({},Object(i["c"])(["applicationIdentitiesWithContracts"])),methods:Object(s["a"])(Object(s["a"])({},Object(i["b"])(["registerContract","showSnackError"])),{},{setAceEditorReadonly:function(){var e=this.selectedIdentity.contract;this.$refs.aceEditor&&this.$refs.aceEditor.editor.setReadOnly(e)},aceEditorInit:function(){this.setAceEditorReadonly()},openDialog:function(e){this.selectedIdentity=e,this.json=e.contract?JSON.stringify(e.contract,null,2):"",this.showJsonDialog=!0,this.setAceEditorReadonly()},validateJsonAndSubmit:function(){var e=this.json;try{JSON.parse(e.toString()),this.submit()}catch(t){this.showSnackError(t)}},submit:function(){var e=this,t=this.json,n=this.identity;this.submitting=!0,this.registerContract({identityId:n.value,json:JSON.parse(t.toString())}).then((function(){e.showJsonDialog=!1})).finally((function(){e.submitting=!1}))}})}),de=le,ue=(n("fdc0"),n("4bd4")),me=n("71d9"),pe=Object(d["a"])(de,ae,se,!1,null,"6c719396",null),ve=pe.exports;m()(pe,{VBtn:h["a"],VCard:M["a"],VContainer:b["a"],VDialog:L["a"],VForm:ue["a"],VIcon:Q["a"],VSpacer:k["a"],VToolbar:me["a"],VToolbarItems:C["a"],VToolbarTitle:C["b"]});var he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",[e.selectedContractId?n("v-col",{staticClass:"d-flex",attrs:{cols:"12"}},[n("v-select",{attrs:{items:e.documentTypes,outlined:"","append-icon-outer":"mdi-plus",label:"Document Type"},model:{value:e.selectedDocumentType,callback:function(t){e.selectedDocumentType=t},expression:"selectedDocumentType"}}),n("v-btn",{staticClass:"mt-2 ml-2",attrs:{dark:"",small:"",fab:"",top:"",right:"",color:"blue"},on:{click:function(){return e.openDialog()}}},[n("v-icon",[e._v("mdi-plus")])],1)],1):e._e()],1),e.selectedContractId?n("v-row",[n("v-col",[n("v-expansion-panels",[n("v-expansion-panel",[n("v-expansion-panel-header",[e._v("View Contract")]),n("v-expansion-panel-content",[n("pre",[e._v(e._s(e.selectedContractPretty))])])],1),n("v-expansion-panel",{attrs:{dense:""}},[n("v-expansion-panel-header",{attrs:{dense:""}},[e._v("Query Options for '"+e._s(e.selectedDocumentType)+"'")]),n("v-expansion-panel-content",{attrs:{dense:""}},[n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"12",md:"1"}},[n("v-text-field",{attrs:{label:"limit",type:"number"},model:{value:e.queryModifiers.limit,callback:function(t){e.$set(e.queryModifiers,"limit",t)},expression:"queryModifiers.limit"}})],1),n("v-col",{attrs:{cols:"12",md:"1"}},[n("v-text-field",{attrs:{label:"startAt",type:"number"},model:{value:e.queryModifiers.startAt,callback:function(t){e.$set(e.queryModifiers,"startAt",t)},expression:"queryModifiers.startAt"}})],1),n("v-col",{attrs:{cols:"12",md:"3"}},[n("v-select",{attrs:{items:e.documentProperties,label:"orderBy 1",clearable:""},model:{value:e.orderBy1.property,callback:function(t){e.$set(e.orderBy1,"property",t)},expression:"orderBy1.property"}})],1),n("v-col",{attrs:{cols:"12",md:"2"}},[n("v-select",{attrs:{items:["asc","desc"],label:"Direction 1"},model:{value:e.orderBy1.direction,callback:function(t){e.$set(e.orderBy1,"direction",t)},expression:"orderBy1.direction"}})],1),n("v-col",{attrs:{cols:"12",md:"3"}},[n("v-select",{attrs:{items:e.documentProperties,label:"orderBy 2",clearable:""},model:{value:e.orderBy2.property,callback:function(t){e.$set(e.orderBy2,"property",t)},expression:"orderBy2.property"}})],1),n("v-col",{attrs:{cols:"12",md:"2"}},[n("v-select",{attrs:{items:["asc","desc"],label:"Direction 2"},model:{value:e.orderBy2.direction,callback:function(t){e.$set(e.orderBy2,"direction",t)},expression:"orderBy2.direction"}})],1)],1),e._l(e.documentProperties,(function(t,r){return n("v-row",{key:r,attrs:{dense:""}},[n("v-col",{attrs:{cols:"12",md:"4",dense:""}},[n("v-text-field",{attrs:{label:"Index Field",dense:"",outlined:"",readonly:"",value:t}})],1),n("v-col",{attrs:{cols:"12",md:"4",dense:""}},[n("v-select",{attrs:{items:e.queryOperators,label:"Operator",outlined:"",dense:""},model:{value:e.whereOperators[t],callback:function(n){e.$set(e.whereOperators,t,n)},expression:"whereOperators[property]"}})],1),n("v-col",{attrs:{cols:"12",md:"4",dense:""}},[n("v-text-field",{attrs:{label:"Value",dense:"",outlined:""},model:{value:e.whereValues[t],callback:function(n){e.$set(e.whereValues,t,n)},expression:"whereValues[property]"}})],1)],1)}))],2)],1)],1)],1)],1):e._e(),e.selectedContractId?n("v-row",[n("v-col",[n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.submitQuery()}}},[e._v('Query documents of type "'+e._s(e.selectedDocumentType)+'"')])],1)],1):e._e(),Object.keys(e.queryOpts).length?n("v-row",[n("v-col",[n("h2",[e._v("Query Options")]),n("pre",[e._v(e._s(e.prettyJson(e.queryOpts)))])])],1):e._e(),n("v-row",[n("v-col",[Object.keys(e.selectedDocuments).length?n("h2",[e._v("Documents")]):e._e(),e._l(e.selectedDocuments,(function(t,r){return n("pre",{key:r},[e._v(e._s(e.prettyJson(t)))])}))],2)],1),n("v-row",[n("v-col",[n("v-form",[n("v-container",[n("v-expansion-panels")],1)],1)],1)],1),n("v-dialog",{attrs:{fullscreen:"",persistent:"",transition:"dialog-bottom-transition"},model:{value:e.showJsonDialog,callback:function(t){e.showJsonDialog=t},expression:"showJsonDialog"}},[n("v-card",[n("v-form",{on:{submit:e.validateJsonAndSubmit}},[n("v-toolbar",{attrs:{color:"primary"}},[n("v-btn",{attrs:{icon:""},on:{click:function(t){e.showJsonDialog=!1}}},[n("v-icon",[e._v("mdi-close")])],1),n("v-toolbar-title",[e._v('Document "'+e._s(e.selectedDocumentType)+'" for '+e._s(e.selectedContractId))]),n("v-spacer"),n("v-toolbar-items",[n("v-btn",{attrs:{text:"",loading:e.submitting},on:{click:e.validateJsonAndSubmit}},[e._v("submit")])],1)],1),n("AceEditor",{ref:"aceEditor",attrs:{lang:"json",theme:"clouds_midnight",width:"100%",height:"94vh"},model:{value:e.json,callback:function(t){e.json=t},expression:"json"}})],1)],1)],1)],1)},fe=[],be=(n("caad"),n("b64b6"),{components:{AceEditor:ce.a},props:["selectedContractId"],data:function(){return{snackbar:!1,snackbarText:"",selectedDocumentType:"",showJsonDialog:!1,submitting:!1,json:"",queryModifiers:{limit:10,startAt:0},orderBy1:{property:"",direction:"asc"},orderBy2:{property:"",direction:"asc"},whereValues:{},whereOperators:{},whereFields:{},queryOpts:{},queryOperators:["<","<=","==","=>",">","in","length","contains","elementMatch","startsWith"]}},computed:Object(s["a"])(Object(s["a"])({},Object(i["c"])(["contracts","documents"])),{},{contractIds:function(){return Object.keys(this.contracts)},documentProperties:function(){var e=this.contracts,t=this.selectedContractId;console.log(e[t]);var n=[];if(this.selectedContract[this.selectedDocumentType]){console.log(this.selectedContract[this.selectedDocumentType]);var r,o=this.selectedContract[this.selectedDocumentType].indices;for(r in o){console.log(r),console.log(o[r]);var a=void 0;for(a in o[r].properties)console.log("p",a),console.log(Object.keys(o[r].properties[a])[0]),n.push(Object.keys(o[r].properties[a])[0])}}return console.log(n),n},selectedContract:function(){var e=this.contracts,t=this.selectedContractId,n=e[t];return n?(console.log(n),n):(this.addContract({identifier:t}),console.log("fetching unknown contract and adding to state"),{})},selectedContractPretty:function(){return this.prettyJson(this.selectedContract)},selectedDocuments:function(){var e=this.selectedContractId?this.documents[this.selectedContractId]:{};return e||{}},documentTypes:function(){var e=[];return this.selectedContractId&&(e=Object.keys(this.selectedContract)),this.selectedDocumentType=e[0],e}}),methods:Object(s["a"])(Object(s["a"])({},Object(i["b"])(["submitDocument","queryDocuments","showSnackError","addContract"])),{},{submitQuery:function(){var e=this.documentProperties,t=this.whereOperators,n=this.whereValues,r=this.queryModifiers,o=this.queryDocuments,a=this.selectedContractId,s=this.selectedDocumentType,i=this.orderBy1,c=this.orderBy2,l=r.limit,d=r.startAt;this.queryOpts={limit:l,startAt:d};var u=[];i.property&&u.push([i.property,i.direction]),c.property&&u.push([c.property,c.direction]),this.queryOpts.orderBy=u;var m,p=[];for(m in e){var v=e[m],h=t[v],f=n[v];if(h&&f){var b=["in","contains","elementMatch"];if(b.includes(h))try{p.push([v,t[v],JSON.parse(n[v])])}catch(y){this.showSnackError(y.message+" ( Make sure to use double ticks instead of ' )")}else if("length"===h){var g=parseInt(f);g?p.push([v,t[v],parseInt(n[v])]):this.showSnackError('"'.concat(f,'" must be a number'))}else p.push([v,t[v],n[v]])}}this.queryOpts.where=p.length?p:void 0,console.dir(this.queryOpts,{depth:5}),o({contractId:a,typeLocator:s,queryOpts:this.queryOpts})},prettyJson:function(e){return JSON.stringify(e,null," ")},openDialog:function(){this.showJsonDialog=!0},validateJsonAndSubmit:function(){var e=this.json;try{JSON.parse(e.toString()),this.submit()}catch(t){this.showSnackError(t)}},submit:function(){var e=this,t=this.json,n=this.selectedContractId,r=this.selectedDocumentType;this.submitting=!0,this.submitDocument({contractId:n,type:r,json:JSON.parse(t.toString())}).then((function(){e.showJsonDialog=!1})).catch((function(t){e.showSnackError(t)})).finally((function(){e.submitting=!1}))}})}),ge=be,ye=(n("cb48"),n("b974")),we=Object(d["a"])(ge,he,fe,!1,null,"3e3aed40",null),xe=we.exports;m()(we,{VBtn:h["a"],VCard:M["a"],VCol:f["a"],VContainer:b["a"],VDialog:L["a"],VExpansionPanel:P["a"],VExpansionPanelContent:F["a"],VExpansionPanelHeader:U["a"],VExpansionPanels:z["a"],VForm:ue["a"],VIcon:Q["a"],VRow:H["a"],VSelect:ye["a"],VSpacer:k["a"],VTextField:X["a"],VToolbar:me["a"],VToolbarItems:C["a"],VToolbarTitle:C["b"]});var _e={components:{Contract:ve,Documents:xe},data:function(){return{selectedIdentity:{text:"",value:null},submittingSearch:"false",newUsername:"",fab:!1}},computed:Object(s["a"])(Object(s["a"])({},Object(i["c"])(["contracts","names","userIdentities","applicationIdentities","contractIdentities","searchDashNameList"])),{},{comboIdentities:function(){var e=[];return e.push({header:"My App identities"}),e=e.concat(this.applicationIdentities),e.push({header:"My Users identities"}),e=e.concat(this.userIdentities),e.push({header:"3rd Party Contracts (paste to import)"}),e=e.concat(this.contractIdentities),console.log(e),e},showUserSearchTable:function(){return"string"===typeof this.selectedIdentity&&this.selectedIdentity.length>0&&44!==this.selectedIdentity.length},showMyUsers:function(){var e=this.selectedIdentity;return console.log(e.type),Boolean("user"===e.type)}}),watch:{selectedIdentity:function(){var e=this;this.$refs.selectedid.isMenuActive=!1,setTimeout((function(){e.$refs.selectedid.isMenuActive=!1}),50)}},methods:Object(s["a"])(Object(s["a"])({},Object(i["b"])(["addContract","showSnackError","searchDashNames","registerName"])),{},{closeFab:function(){var e=this;setTimeout((function(){e.fab=!1}),150)},createUsername:function(){var e=this;this.$store.commit("setSyncing",!0),this.registerName({identityId:this.selectedIdentity.value,name:this.newUsername}).then((function(){e.newUsername=""})).catch((function(t){return e.showSnackError(t)})).finally((function(){e.$store.commit("setSyncing",!1)}))},isContractId:function(e){return"string"===typeof e&&44===e.length},awesomeBar:function(){var e=this;return Object(V["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.contracts,r=e.selectedIdentity,o=e.isContractId,!("string"===typeof r&&r.length>0)){t.next=19;break}if(!o(r)){t.next=15;break}if(a=n[r.value],console.log(a),console.log(e.isContractId(r)),a||"string"!==typeof e.selectedIdentity||!(e.selectedIdentity.length>5)){t.next=13;break}return console.log("fetching unknown contract and adding to state"),console.log({identifier:r}),t.next=11,e.addContract({identifier:r});case 11:e.selectedIdentity={text:r,value:r,type:"application"},console.log("done fetching unknown contract and adding to state");case 13:t.next=19;break;case 15:console.log("searching for username",r),e.submittingSearch=!0,e.$store.commit("setSyncing",!0),e.searchDashNames(r).finally((function(){e.submittingSearch=!1,e.$store.commit("setSyncing",!1)}));case 19:case"end":return t.stop()}}),t)})))()},clearIdentity:function(){this.selectedIdentity={text:"",value:null}},createIdentity:function(e){var t=this;this.$store.commit("setSyncing",!0),this.$store.dispatch("createIdentity",e).then((function(){var n=t.$store.state.identities[e.name].slice(-1)[0];t.selectedIdentity={text:n.id,value:n.id,type:2===n.type?"application":"user"}})).catch((function(e){t.showSnackError(e)})).finally((function(){t.$store.commit("setSyncing",!1)}))}})},ke=_e,Ce=n("8212"),De=n("cc20"),Ie=n("2b5d"),Se=n("c73b"),Oe=Object(d["a"])(ke,re,oe,!1,null,null,null),je=Oe.exports;m()(Oe,{VAvatar:Ce["a"],VBtn:h["a"],VCard:M["a"],VCardActions:q["a"],VCardText:q["b"],VCardTitle:q["c"],VChip:De["a"],VCol:f["a"],VCombobox:Ie["a"],VContainer:b["a"],VIcon:Q["a"],VRow:H["a"],VSimpleTable:K["a"],VSpeedDial:Se["a"],VTextField:X["a"],VTooltip:ee["a"]});var Ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",{directives:[{name:"show",rawName:"v-show",value:e.isError,expression:"isError"}]},[n("v-card",[n("v-card-title",[e._v("Error occurred")]),n("v-card-text",[e._v(e._s(e.errorDetails?e.errorDetails.message:""))])],1)],1),n("v-row",{directives:[{name:"show",rawName:"v-show",value:e.isSyncing,expression:"isSyncing"}]},[n("v-card",{attrs:{loading:"primary"}},[n("v-card-title",[e._v("Wallet is syncing")]),n("v-card-text",[e._v("This usually takes from 10 seconds to 1 minute on fast internet")])],1)],1),n("v-row",{directives:[{name:"show",rawName:"v-show",value:!e.isSyncing&&!e.isError,expression:"!isSyncing && !isError"}]},e._l(e.identityLists,(function(t){return n("v-col",{key:t.type.value},[n("v-row",{staticClass:"mb-12"},[n("v-col",[n("h1",[e._v(e._s(t.type.name))])]),n("v-col",{attrs:{cols:"auto"}},[n("v-btn",{attrs:{fab:"",dark:"",color:"primary",loading:e.createIdentityLoading[t.type.name]},on:{click:function(){return e.createIdentity(t.type)}}},[n("v-icon",[e._v("mdi-plus")])],1)],1)],1),t.items.length?n("v-list",{attrs:{shaped:""}},e._l(t.items,(function(t){return n("v-list-item",{key:t.id},[n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.id))])],1)],1)})),1):n("span",[e._v("List is empty. Try to create an Identity")])],1)})),1)],1)},Te=[],Ee={data:function(){return{createIdentityLoading:{application:!1,user:!1}}},computed:Object(s["a"])({},Object(i["c"])(["identityLists","isSyncing","errorDetails","isError"])),methods:Object(s["a"])(Object(s["a"])({},Object(i["b"])(["searchDashNames"])),{},{createIdentity:function(e){var t=this;this.createIdentityLoading[e.name]=!0,this.$store.dispatch("createIdentity",e).finally((function(){t.createIdentityLoading[e.name]=!1}))}})},Ae=Ee,Re=n("8860"),Be=Object(d["a"])(Ae,Ve,Te,!1,null,null,null),Ne=Be.exports;m()(Be,{VBtn:h["a"],VCard:M["a"],VCardText:q["b"],VCardTitle:q["c"],VCol:f["a"],VContainer:b["a"],VIcon:Q["a"],VList:Re["a"],VListItem:G["a"],VListItemContent:Y["a"],VListItemTitle:Y["c"],VRow:H["a"]});var Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",[n("v-col",[n("h2",[e._v("Register My Names")])])],1),e.userIdentitiesWithNames.length?n("v-row",[n("v-col",[n("v-simple-table",[n("thead",[n("tr",[n("th",[e._v("Id")]),n("th",[e._v("Names")]),n("th")])]),n("tbody",e._l(e.userIdentitiesWithNames,(function(t){return n("tr",{key:t.id},[n("td",[e._v(e._s(t.id))]),n("td",[e._v(e._s(t.names.join(", ")))]),n("td",[n("v-btn",{attrs:{icon:""},on:{click:function(){return e.openDialog(t)}}},[n("v-icon",[e._v("mdi-plus")])],1)],1)])})),0)])],1)],1):n("v-row",[n("v-col",[n("v-alert",{attrs:{type:"error"}},[e._v(" You must have User Identity in order to register a Domain Name for it ")])],1)],1),n("v-row",[n("v-col",[n("h2",[e._v("Search All Names")])])],1),n("v-row",[n("v-col",[n("v-form",{on:{submit:e.submitSearch}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[n("v-text-field",{attrs:{label:"Starts with",outlined:""},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[n("v-btn",{attrs:{"x-large":"",color:"primary",type:"submit",loading:e.submittingSearch}},[e._v("Search Dash Name")])],1)],1)],1)],1)],1)],1),n("v-row",[n("v-col",[n("v-simple-table",[n("thead",[n("tr",[n("th",[e._v("Name")]),n("th",[e._v("Identity Id")])])]),n("tbody",e._l(e.searchDashNameList,(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.label))]),n("td",[e._v(e._s(t.userId))])])})),0)])],1)],1),n("v-dialog",{attrs:{"max-width":"400px"},model:{value:e.showNameDialog,callback:function(t){e.showNameDialog=t},expression:"showNameDialog"}},[n("v-card",[n("v-form",{on:{submit:e.submit}},[n("v-card-title",[e._v(e._s(e.selectedIdentity.id))]),n("v-card-text",[n("v-text-field",{attrs:{counter:"",label:"Name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),n("v-card-actions",[n("v-btn",{on:{click:function(t){e.showNameDialog=!1}}},[e._v("close")]),n("v-spacer"),n("v-btn",{attrs:{color:"primary",loading:e.submitting,type:"submit"}},[e._v("Register")])],1)],1)],1)],1)],1)},We=[],$e={data:function(){return{showNameDialog:!1,submitting:!1,submittingSearch:!1,selectedIdentity:{},name:"",searchString:""}},computed:Object(s["a"])({},Object(i["c"])(["userIdentitiesWithNames","searchDashNameList"])),methods:Object(s["a"])(Object(s["a"])({},Object(i["b"])(["registerName","searchDashNames"])),{},{openDialog:function(e){this.selectedIdentity=e,this.name="",this.showNameDialog=!0},submitSearch:function(e){var t=this,n=this.searchString;e.preventDefault(),this.submittingSearch=!0,this.searchDashNames(n).finally((function(){t.submittingSearch=!1}))},submit:function(e){var t=this;e.preventDefault();var n=this.name,r=this.selectedIdentity;this.submitting=!0,this.registerName({identityId:r.id,name:n}).then((function(){t.showNameDialog=!1})).finally((function(){t.submitting=!1}))}})},Me=$e,qe=(n("eca4"),Object(d["a"])(Me,Je,We,!1,null,"aecbd2ac",null)),Le=qe.exports;m()(qe,{VAlert:$["a"],VBtn:h["a"],VCard:M["a"],VCardActions:q["a"],VCardText:q["b"],VCardTitle:q["c"],VCol:f["a"],VContainer:b["a"],VDialog:L["a"],VForm:ue["a"],VIcon:Q["a"],VRow:H["a"],VSimpleTable:K["a"],VSpacer:k["a"],VTextField:X["a"]});var Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[e.applicationIdentitiesWithContracts.length?n("v-row",[n("v-col",[n("v-simple-table",[n("thead",[n("tr",[n("th",[e._v("Id")]),n("th",[e._v("Contract")])])]),n("tbody",e._l(e.applicationIdentitiesWithContracts,(function(t){return n("tr",{key:t.id},[n("td",[e._v(e._s(t.id))]),n("td",[n("v-btn",{attrs:{text:""},on:{click:function(){return e.openDialog(t)}}},[e._v(e._s(t.contract?"view":"register"))])],1)])})),0)])],1)],1):n("v-row",[n("v-col",[n("v-alert",{attrs:{type:"error"}},[e._v(" You must have Application Identity in order to register a Contract for it ")])],1)],1),n("v-dialog",{attrs:{fullscreen:"",persistent:"",transition:"dialog-bottom-transition"},model:{value:e.showJsonDialog,callback:function(t){e.showJsonDialog=t},expression:"showJsonDialog"}},[n("v-card",[n("v-form",{on:{submit:e.validateJsonAndSubmit}},[n("v-toolbar",{attrs:{color:"primary"}},[n("v-btn",{attrs:{icon:""},on:{click:function(t){e.showJsonDialog=!1}}},[n("v-icon",[e._v("mdi-close")])],1),n("v-toolbar-title",[e._v("Contract for "+e._s(e.selectedIdentity.id))]),n("v-spacer"),e.selectedIdentity.contract?e._e():n("v-toolbar-items",[n("v-btn",{attrs:{text:"",loading:e.submitting},on:{click:e.validateJsonAndSubmit}},[e._v("submit")])],1)],1),n("AceEditor",{ref:"aceEditor",attrs:{lang:"json",theme:"clouds_midnight",width:"100%",height:"94vh"},on:{init:e.aceEditorInit},model:{value:e.json,callback:function(t){e.json=t},expression:"json"}})],1)],1)],1)],1)},Fe=[],Ue={components:{AceEditor:ce.a},data:function(){return{showJsonDialog:!1,submitting:!1,selectedIdentity:{},json:""}},computed:Object(s["a"])({},Object(i["c"])(["applicationIdentitiesWithContracts"])),methods:Object(s["a"])(Object(s["a"])({},Object(i["b"])(["registerContract","showSnackError"])),{},{setAceEditorReadonly:function(){var e=this.selectedIdentity.contract;this.$refs.aceEditor&&this.$refs.aceEditor.editor.setReadOnly(e)},aceEditorInit:function(){this.setAceEditorReadonly()},openDialog:function(e){this.selectedIdentity=e,this.json=e.contract?JSON.stringify(e.contract,null,2):"",this.showJsonDialog=!0,this.setAceEditorReadonly()},validateJsonAndSubmit:function(){var e=this.json;try{JSON.parse(e.toString()),this.submit()}catch(t){this.showSnackError(t)}},submit:function(){var e=this,t=this.json,n=this.selectedIdentity;this.submitting=!0,this.registerContract({identity:n,json:JSON.parse(t.toString())}).then((function(){e.showJsonDialog=!1})).finally((function(){e.submitting=!1}))}})},ze=Ue,Qe=(n("3ecb"),Object(d["a"])(ze,Pe,Fe,!1,null,"12d66eee",null)),Ge=Qe.exports;m()(Qe,{VAlert:$["a"],VBtn:h["a"],VCard:M["a"],VCol:f["a"],VContainer:b["a"],VDialog:L["a"],VForm:ue["a"],VIcon:Q["a"],VRow:H["a"],VSimpleTable:K["a"],VSpacer:k["a"],VToolbar:me["a"],VToolbarItems:C["a"],VToolbarTitle:C["b"]});var Ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",[n("v-col",{staticClass:"d-flex",attrs:{cols:"12"}},[n("v-combobox",{attrs:{items:e.contractIds,label:"Choose or paste contractId",outlined:""},model:{value:e.selectedContractId,callback:function(t){e.selectedContractId=t},expression:"selectedContractId"}})],1)],1),n("v-row",[e.selectedContractId?n("v-col",{staticClass:"d-flex",attrs:{cols:"12"}},[n("v-select",{attrs:{items:e.documentTypes,outlined:"","append-icon-outer":"mdi-plus",label:"Document Type"},model:{value:e.selectedDocumentType,callback:function(t){e.selectedDocumentType=t},expression:"selectedDocumentType"}}),n("v-btn",{staticClass:"mt-2",attrs:{dark:"",small:"",fab:"",top:"",right:"",color:"blue"},on:{click:function(){return e.openDialog()}}},[n("v-icon",[e._v("mdi-plus")])],1)],1):e._e()],1),e.selectedContractId?n("v-row",[n("v-col",[n("v-expansion-panels",[n("v-expansion-panel",[n("v-expansion-panel-header",[e._v("View Contract")]),n("v-expansion-panel-content",[n("pre",[e._v(e._s(e.selectedContractPretty))])])],1),n("v-expansion-panel",{attrs:{dense:""}},[n("v-expansion-panel-header",{attrs:{dense:""}},[e._v("Query Options for '"+e._s(e.selectedDocumentType)+"'")]),n("v-expansion-panel-content",{attrs:{dense:""}},[n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"12",md:"1"}},[n("v-text-field",{attrs:{label:"limit",type:"number"},model:{value:e.queryModifiers.limit,callback:function(t){e.$set(e.queryModifiers,"limit",t)},expression:"queryModifiers.limit"}})],1),n("v-col",{attrs:{cols:"12",md:"1"}},[n("v-text-field",{attrs:{label:"startAt",type:"number"},model:{value:e.queryModifiers.startAt,callback:function(t){e.$set(e.queryModifiers,"startAt",t)},expression:"queryModifiers.startAt"}})],1),n("v-col",{attrs:{cols:"12",md:"3"}},[n("v-select",{attrs:{items:e.documentProperties,label:"orderBy 1",clearable:""},model:{value:e.orderBy1.property,callback:function(t){e.$set(e.orderBy1,"property",t)},expression:"orderBy1.property"}})],1),n("v-col",{attrs:{cols:"12",md:"2"}},[n("v-select",{attrs:{items:["asc","desc"],label:"Direction 1"},model:{value:e.orderBy1.direction,callback:function(t){e.$set(e.orderBy1,"direction",t)},expression:"orderBy1.direction"}})],1),n("v-col",{attrs:{cols:"12",md:"3"}},[n("v-select",{attrs:{items:e.documentProperties,label:"orderBy 2",clearable:""},model:{value:e.orderBy2.property,callback:function(t){e.$set(e.orderBy2,"property",t)},expression:"orderBy2.property"}})],1),n("v-col",{attrs:{cols:"12",md:"2"}},[n("v-select",{attrs:{items:["asc","desc"],label:"Direction 2"},model:{value:e.orderBy2.direction,callback:function(t){e.$set(e.orderBy2,"direction",t)},expression:"orderBy2.direction"}})],1)],1),e._l(e.documentProperties,(function(t,r){return n("v-row",{key:r,attrs:{dense:""}},[n("v-col",{attrs:{cols:"12",md:"4",dense:""}},[n("v-text-field",{attrs:{label:"Index Field",dense:"",outlined:"",readonly:"",value:t}})],1),n("v-col",{attrs:{cols:"12",md:"4",dense:""}},[n("v-select",{attrs:{items:e.queryOperators,label:"Operator",outlined:"",dense:""},model:{value:e.whereOperators[t],callback:function(n){e.$set(e.whereOperators,t,n)},expression:"whereOperators[property]"}})],1),n("v-col",{attrs:{cols:"12",md:"4",dense:""}},[n("v-text-field",{attrs:{label:"Value",dense:"",outlined:""},model:{value:e.whereValues[t],callback:function(n){e.$set(e.whereValues,t,n)},expression:"whereValues[property]"}})],1)],1)}))],2)],1)],1)],1)],1):e._e(),e.selectedContractId?n("v-row",[n("v-col",[n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.submitQuery()}}},[e._v('Query documents of type "'+e._s(e.selectedDocumentType)+'"')])],1)],1):e._e(),Object.keys(e.queryOpts).length?n("v-row",[n("v-col",[n("h2",[e._v("Query Options")]),n("pre",[e._v(e._s(e.prettyJson(e.queryOpts)))])])],1):e._e(),n("v-row",[n("v-col",[Object.keys(e.selectedDocuments).length?n("h2",[e._v("Documents")]):e._e(),e._l(e.selectedDocuments,(function(t,r){return n("pre",{key:r},[e._v(e._s(e.prettyJson(t)))])}))],2)],1),n("v-row",[n("v-col",[n("v-form",[n("v-container",[n("v-expansion-panels")],1)],1)],1)],1),n("v-dialog",{attrs:{fullscreen:"",persistent:"",transition:"dialog-bottom-transition"},model:{value:e.showJsonDialog,callback:function(t){e.showJsonDialog=t},expression:"showJsonDialog"}},[n("v-card",[n("v-form",{on:{submit:e.validateJsonAndSubmit}},[n("v-toolbar",{attrs:{color:"primary"}},[n("v-btn",{attrs:{icon:""},on:{click:function(t){e.showJsonDialog=!1}}},[n("v-icon",[e._v("mdi-close")])],1),n("v-toolbar-title",[e._v('Document "'+e._s(e.selectedDocumentType)+'" for '+e._s(e.selectedContractId))]),n("v-spacer"),n("v-toolbar-items",[n("v-btn",{attrs:{text:"",loading:e.submitting},on:{click:e.validateJsonAndSubmit}},[e._v("submit")])],1)],1),n("AceEditor",{ref:"aceEditor",attrs:{lang:"json",theme:"clouds_midnight",width:"100%",height:"94vh"},model:{value:e.json,callback:function(t){e.json=t},expression:"json"}})],1)],1)],1)],1)},He=[],Ke={components:{AceEditor:ce.a},data:function(){return{snackbar:!1,snackbarText:"",selectedContractId:null,selectedDocumentType:"",showJsonDialog:!1,submitting:!1,json:"",queryModifiers:{limit:10,startAt:0},orderBy1:{property:"",direction:"asc"},orderBy2:{property:"",direction:"asc"},whereValues:{},whereOperators:{},whereFields:{},queryOpts:{},queryOperators:["<","<=","==","=>",">","in","length","contains","elementMatch","startsWith"]}},computed:Object(s["a"])(Object(s["a"])({},Object(i["c"])(["contracts","documents"])),{},{contractIds:function(){return Object.keys(this.contracts)},documentProperties:function(){var e=this.contracts,t=this.selectedContractId;console.log(e[t]);var n=[];if(this.selectedContract[this.selectedDocumentType]){console.log(this.selectedContract[this.selectedDocumentType]);var r,o=this.selectedContract[this.selectedDocumentType].indices;for(r in o){console.log(r),console.log(o[r]);var a=void 0;for(a in o[r].properties)console.log("p",a),console.log(Object.keys(o[r].properties[a])[0]),n.push(Object.keys(o[r].properties[a])[0])}}return console.log(n),n},selectedContract:function(){var e=this.contracts,t=this.selectedContractId,n=e[t];return n?(console.log(n),n):(this.addContract({identifier:t}),console.log("fetching unknown contract and adding to state"),{})},selectedContractPretty:function(){return this.prettyJson(this.selectedContract)},selectedDocuments:function(){var e=this.selectedContractId?this.documents[this.selectedContractId]:{};return e||{}},documentTypes:function(){var e=[];return this.selectedContractId&&(e=Object.keys(this.selectedContract)),this.selectedDocumentType=e[0],e}}),methods:Object(s["a"])(Object(s["a"])({},Object(i["b"])(["submitDocument","queryDocuments","showSnackError","addContract"])),{},{submitQuery:function(){var e=this.documentProperties,t=this.whereOperators,n=this.whereValues,r=this.queryModifiers,o=this.queryDocuments,a=this.selectedContractId,s=this.selectedDocumentType,i=this.orderBy1,c=this.orderBy2,l=r.limit,d=r.startAt;this.queryOpts={limit:l,startAt:d};var u=[];i.property&&u.push([i.property,i.direction]),c.property&&u.push([c.property,c.direction]),this.queryOpts.order=u;var m,p=[];for(m in e){var v=e[m],h=t[v],f=n[v];if(h&&f){var b=["in","contains","elementMatch"];if(b.includes(h))try{p.push([v,t[v],JSON.parse(n[v])])}catch(y){this.showSnackError(y.message+" ( Make sure to use double ticks instead of ' )")}else if("length"===h){var g=parseInt(f);g?p.push([v,t[v],parseInt(n[v])]):this.showSnackError('"'.concat(f,'" must be a number'))}else p.push([v,t[v],n[v]])}}this.queryOpts.where=p.length?p:void 0,console.dir(this.queryOpts,{depth:5}),o({contractId:a,typeLocator:s,queryOpts:this.queryOpts})},prettyJson:function(e){return JSON.stringify(e,null," ")},openDialog:function(){this.showJsonDialog=!0},validateJsonAndSubmit:function(){var e=this.json;try{JSON.parse(e.toString()),this.submit()}catch(t){this.showSnackError(t)}},submit:function(){var e=this,t=this.json,n=this.selectedContractId,r=this.selectedDocumentType;this.submitting=!0,this.submitDocument({contractId:n,type:r,json:JSON.parse(t.toString())}).then((function(){e.showJsonDialog=!1})).catch((function(t){e.showSnackError(t)})).finally((function(){e.submitting=!1}))}})},Xe=Ke,Ze=Object(d["a"])(Xe,Ye,He,!1,null,null,null),et=Ze.exports;m()(Ze,{VBtn:h["a"],VCard:M["a"],VCol:f["a"],VCombobox:Ie["a"],VContainer:b["a"],VDialog:L["a"],VExpansionPanel:P["a"],VExpansionPanelContent:F["a"],VExpansionPanelHeader:U["a"],VExpansionPanels:z["a"],VForm:ue["a"],VIcon:Q["a"],VRow:H["a"],VSelect:ye["a"],VSpacer:k["a"],VTextField:X["a"],VToolbar:me["a"],VToolbarItems:C["a"],VToolbarTitle:C["b"]}),r["a"].use(S["a"]);var tt=[{path:"/wallet",name:"wallet",component:ne},{path:"/platform",name:"platform",component:je},{path:"/identities",name:"identities",component:Ne},{path:"/contracts",name:"contracts",component:Ge},{path:"/documents",name:"documents",component:et},{path:"/names",name:"names",component:Le},{path:"*",redirect:"wallet"}],nt=new S["a"]({mode:"hash",base:"/",routes:tt}),rt=nt,ot=(n("d81d"),n("3835")),at=n("ade3"),st=n("2909"),it=n("0e44");r["a"].use(i["a"]);var ct,lt=n("db4f"),dt={isSyncing:!1,refresherId:null,wallet:{mnemonic:void 0,confirmedBalance:0},errorDetails:null,isError:!1,snackError:{show:!1,text:""},identities:{user:[],application:[]},names:{},searchNames:[],contracts:{},documents:{}},ut={user:{name:"user",value:1},application:{name:"application",value:2}},mt=new i["a"].Store({state:dt,mutations:{addIdentity:function(e,t){var n=t.identity,r=t.type;e.identities[r.name].push(n)},setWallet:function(e,t){e.wallet=t},addName:function(e,t){var n=t.identity,r=t.name,o=n.id,a=e.names[o]||[];e.names=Object(s["a"])(Object(s["a"])({},e.names),{},Object(at["a"])({},o,[].concat(Object(st["a"])(a),[r])))},addContract:function(e,t){var n=t.identity,r=t.contract,o=n.id;e.contracts=Object(s["a"])(Object(s["a"])({},e.contracts),{},Object(at["a"])({},o,r.documents))},addDocument:function(e,t){var n=t.identity,r=t.document,o=n.id;e.documents=Object(s["a"])(Object(s["a"])({},e.documents),{},Object(at["a"])({},o,Object(s["a"])(Object(s["a"])({},e.documents[o]),{},Object(at["a"])({},r.entropy,r))))},setDocuments:function(e,t){var n=t.contractId,r=t.documents;e.documents=Object(at["a"])({},n,r)},setSearchNames:function(e,t){e.searchNames=JSON.parse(JSON.stringify(t))},setMnemonic:function(e,t){e.wallet.mnemonic=t},setSyncing:function(e,t){e.isSyncing=t},setError:function(e,t){e.errorDetails=t,e.isError=!0},clearError:function(e){e.errorDetails=null,e.isError=!1},setSnackError:function(e,t){e.snackError=t},resetState:function(){this.replaceState(JSON.parse(JSON.stringify(dt)))},resetSync:function(e){e.isSyncing=!0,e.isError=!1,e.errorDetails=null}},actions:{addContract:function(e,t){return Object(V["a"])(regeneratorRuntime.mark((function n(){var r,o,a,s,i,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,o=t.identifier,console.log("id",o),a=ct,s=a.platform,r("setSyncing",!0),n.next=7,s.contracts.get(o);case 7:i=n.sent,console.log(i),c={id:o},console.dir({contract:i}),null===i&&console.log("looks like its null"),r("addContract",{identity:c,contract:i}),r("setSyncing",!1);case 14:case"end":return n.stop()}}),n)})))()},sendDash:function(e,t){return Object(V["a"])(regeneratorRuntime.mark((function n(){var r,o,a,s,i,c,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,o=t.sendToAddress,a=t.satoshis,s=ct,i=s.account,n.prev=3,c=i.createTransaction({recipient:o,satoshis:a}),n.next=7,i.broadcastTransaction(c);case 7:l=n.sent,console.log("Transaction broadcast!\nTransaction ID:",l),r("refreshWallet"),n.next=17;break;case 12:throw n.prev=12,n.t0=n["catch"](3),console.error("Something went wrong:",n.t0),r("showSnackError",n.t0),n.t0;case 17:case"end":return n.stop()}}),n,null,[[3,12]])})))()},queryDocuments:function(e,t){return Object(V["a"])(regeneratorRuntime.mark((function n(){var r,o,a,s,i,c,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,o=e.dispatch,a=t.contractId,s=t.typeLocator,i=t.queryOpts,console.log(i),r("setSyncing",!0),n.prev=4,console.log({contractId:a}),console.log("somedapp.".concat(s)),c=new lt.Client({network:"testnet",seeds:[{service:"54.184.198.68:20001",port:3e3}],mnemonic:void 0,apps:{dpns:{contractId:"ForwNrvKy8jdyoCNTYBK4gcV6o15n79DmFQio2gGac5p"},somedapp:{contractId:a}}}),n.next=10,c.isReady();case 10:return console.log("clientq is ready"),console.log("somedapp.".concat(s)),n.next=14,c.platform.documents.get("somedapp.".concat(s),i);case 14:l=n.sent,console.log({documents:l}),r("setDocuments",{contractId:a,documents:l}),r("setSyncing",!1),n.next=25;break;case 20:n.prev=20,n.t0=n["catch"](4),o("showSnackError",n.t0),console.error("Something went wrong:",n.t0),r("setSyncing",!1);case 25:case"end":return n.stop()}}),n,null,[[4,20]])})))()},searchDashNames:function(e,t){return Object(V["a"])(regeneratorRuntime.mark((function n(){var r,o,a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,o=e.dispatch,a={where:[["normalizedParentDomainName","==","dash"],["normalizedLabel","startsWith",t.toLowerCase()]],startAt:0,limit:20,orderBy:[["normalizedLabel","asc"]]},n.prev=2,n.next=5,ct.platform.documents.get("dpns.domain",a);case 5:s=n.sent,r("setSearchNames",s),n.next=13;break;case 9:n.prev=9,n.t0=n["catch"](2),o("showSnackError",n.t0),console.error("Something went wrong:",n.t0);case 13:case"end":return n.stop()}}),n,null,[[2,9]])})))()},createIdentity:function(e,t){return Object(V["a"])(regeneratorRuntime.mark((function n(){var r,o,a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,o=e.dispatch,n.prev=1,n.next=4,ct.platform.identities.register(t.name);case 4:return a=n.sent,n.next=7,ct.platform.identities.get(a);case 7:s=n.sent,r("addIdentity",{identity:s,type:t}),n.next=16;break;case 11:throw n.prev=11,n.t0=n["catch"](1),o("showSnackError",n.t0),console.log(n.t0),n.t0;case 16:case"end":return n.stop()}}),n,null,[[1,11]])})))()},registerName:function(e,t){return Object(V["a"])(regeneratorRuntime.mark((function n(){var r,o,a,s,i,c,l,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,o=t.identityId,a=t.name,n.next=4,ct.platform.identities.get(o);case 4:return s=n.sent,n.next=7,ct.platform.names.register(a,s);case 7:return i=n.sent,console.log("createDocument",i),n.next=11,ct.platform.documents.get("dpns.domain",{where:[["normalizedParentDomainName","==","dash"],["normalizedLabel","==",a.toLowerCase()]]});case 11:c=n.sent,l=Object(ot["a"])(c,1),d=l[0],console.log("doc",d),r("addName",{identity:s,name:a});case 16:case"end":return n.stop()}}),n)})))()},registerContract:function(e,t){return Object(V["a"])(regeneratorRuntime.mark((function n(){var r,o,a,s,i,c,l,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,o=e.dispatch,a=t.identityId,s=t.json,i=ct,c=i.platform,console.log(a),n.prev=4,n.next=7,c.identities.get(a);case 7:return l=n.sent,n.next=10,c.contracts.create(s,l);case 10:return d=n.sent,n.next=13,c.contracts.broadcast(d,l);case 13:r("addContract",{identity:l,contract:d}),n.next=20;break;case 16:n.prev=16,n.t0=n["catch"](4),o("showSnackError",n.t0),console.error("Something went wrong:",n.t0);case 20:case"end":return n.stop()}}),n,null,[[4,16]])})))()},submitDocument:function(e,t){var n=this;return Object(V["a"])(regeneratorRuntime.mark((function r(){var o,a,s,i,c,l,d,u,m,p;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=e.commit,a=e.dispatch,s=t.contractId,i=t.type,c=t.json,console.log(s),console.log(c),l={seeds:[{service:"54.184.198.68:20001",port:3e3}],network:"testnet",mnemonic:n.state.wallet.mnemonic,apps:{contractExample:{contractId:s}}},console.log("second dashjs client opts",l),d=new lt.Client(l),u=d.platform,r.next=10,d.isReady();case 10:return r.prev=10,r.next=13,u.identities.get(s);case 13:return m=r.sent,r.next=16,u.documents.create("contractExample.".concat(i),m,c);case 16:return p=r.sent,console.log(p),r.next=20,u.documents.broadcast(p,m);case 20:o("addDocument",{identity:m,document:p}),r.next=27;break;case 23:r.prev=23,r.t0=r["catch"](10),a("showSnackError",r.t0),console.error("Something went wrong:",r.t0);case 27:return r.prev=27,d.disconnect(),r.finish(27);case 30:case"end":return r.stop()}}),r,null,[[10,23,27,30]])})))()},initWallet:function(e){var t=this;return Object(V["a"])(regeneratorRuntime.mark((function n(){var r,o,a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,o=e.dispatch,a=e.getters,s=t.state.wallet.mnemonic,r("resetSync",!0),console.debug("Start wallet sync..."),n.prev=4,console.dir(ct,{depth:5});try{ct&&(ct.disconnect(),console.log("sdk disconnecting.."))}catch(i){o("showSnackError",i),console.log(i)}return console.log("mnemonic is",s),ct=new lt.Client({network:"testnet",seeds:[{service:"54.184.198.68:20001",port:3e3}],mnemonic:s,apps:{dpns:{contractId:"ForwNrvKy8jdyoCNTYBK4gcV6o15n79DmFQio2gGac5p"}}}),n.next=11,ct.isReady().then(Object(V["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o("refreshWallet"),setInterval((function(){console.log(a.hasWallet),a.hasWallet&&o("refreshWallet")}),5e3),console.dir({client:ct},{depth:5});case 3:case"end":return e.stop()}}),e)}))));case 11:n.next=20;break;case 13:return n.prev=13,n.t0=n["catch"](4),console.debug("Wallet synchronized with an error:"),o("showSnackError",n.t0),r("setError",n.t0),r("setSyncing",!1),n.abrupt("return");case 20:console.debug("Wallet is synchronized"),r("setSyncing",!1);case 22:case"end":return n.stop()}}),n,null,[[4,13]])})))()},showSnackError:function(e,t){var n=e.commit;n("setSnackError",{show:!0,text:t})},refreshWallet:function(e){return Object(V["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a,s,i,c,l,d,u,m,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,r=e.dispatch,o=ct,a=o.wallet,s=o.account,t.prev=2,i=s.getUnusedAddress().address,c=s.getConfirmedBalance(),l=s.getUnconfirmedBalance(),d=s.getAddresses(),u=s.getTotalBalance(),m=s.getUTXOS(),p=a.mnemonic,n("setWallet",{mnemonic:p,utxos:m,history:history,unusedAddress:i,balance:u,confirmedBalance:c,unconfirmedBalance:l,addresses:d}),console.log("Total Balance",s.getTotalBalance()),t.next=19;break;case 14:throw t.prev=14,t.t0=t["catch"](2),r("showSnackError",t.t0),console.log(t.t0),t.t0;case 19:case"end":return t.stop()}}),t,null,[[2,14]])})))()}},getters:{getWallet:function(e){var t=e.wallet;return t},hasWallet:function(e){return Boolean(e.wallet.mnemonic)},identityLists:function(e){var t=e.identities;console.log("identities",t),console.log("state",e);var n=Object.keys(ut).map((function(e){return{type:ut[e],items:t[e]}}));return console.log("lists",n),n},userIdentities:function(e){var t=e.identities.user;return t.map((function(t){return{text:t.id,value:t.id,names:e.names[t.id]||[],type:"user"}}))},applicationIdentities:function(e){var t=e.identities.application;return t.map((function(e){return{text:e.id,value:e.id,type:"application"}}))},contractIdentities:function(e){var t=e.contracts;console.log(t);var n=Object.keys(t).map((function(e){return{text:e,value:e,type:"application"}}));return console.log("n",n),n},names:function(e){var t=e.names;return t},userIdentitiesWithNames:function(e){var t=e.identities.user;return t.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{names:e.names[t.id]||[]})}))},searchDashNameList:function(e){var t=e.searchNames;return t.map((function(e){return{label:e.label,userId:e.$userId}}))},applicationIdentitiesWithContracts:function(e){var t=e.identities.application,n=t.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{contract:e.contracts[t.id]})}));return console.dir(n),n},contracts:function(e){var t=e.contracts;return console.log(t),t},documents:function(e){var t=e.documents;return console.log(t),t},errorDetails:function(e){return e.errorDetails},isSyncing:function(e){return e.isSyncing},isError:function(e){return e.isError},snackError:function(e){return e.snackError}},plugins:[Object(it["a"])()]}),pt=n("f309");r["a"].use(pt["a"]);var vt=new pt["a"]({});r["a"].config.productionTip=!1,new r["a"]({router:rt,store:mt,vuetify:vt,render:function(e){return e(I)}}).$mount("#app")},6:function(e,t){},7:function(e,t){},"7e9c":function(e,t,n){},cb48:function(e,t,n){"use strict";var r=n("2648"),o=n.n(r);o.a},eca4:function(e,t,n){"use strict";var r=n("7e9c"),o=n.n(r);o.a},f3b2:function(e,t,n){e.exports=n.p+"img/dash-logo-large.fc31c6ec.png"},f73e:function(e,t,n){},fdc0:function(e,t,n){"use strict";var r=n("f73e"),o=n.n(r);o.a}});
//# sourceMappingURL=app.b4729d66.js.map